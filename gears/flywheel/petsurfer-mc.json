{
  "author": "Flywheel, Inc",
  "cite": "https://surfer.nmr.mgh.harvard.edu/fswiki/PetSurfer",
  "command": "python run.py",
  "config": {
    "debug": {
      "default": false,
      "description": "Log debug messages",
      "type": "boolean"
    },
    "freesurfer_license_key": {
      "description": "Text from license file generated during FreeSurfer registration. *Entries should be space separated.*",
      "type": "string",
      "optional": true
    },
    "frame_pattern": {
      "description": "Text regular expression that will be used to get the frames to be aligned. For example if the pattern will be '^(ID01|Frame)$', the gear will look for ID01 and Frame to get the PET volumes for the template creation. It is case Insensitive.",
      "type": "string",
      "optional": false
    },
    "template_creation": {
      "default": "mean",
      "enum": [
        "single_frame",
        "mean"
      ],
      "description": "Select a method for PET template creation that will be used as target image for motion correction of PET dynamic volumes. The template can be generated by extracting a single frame ('sinlge_frame') or averaging all the time frames together ('mean').",
      "type": "string"
    },
    "ref_frame": {
      "default": "0",
      "description": "If the PET data only have one frame (eg, an uptake image), then that will be the template. If the PET data has multiple frames (ie, dynamic), then the template will be created from the dynamic data. In this case, this option can be used to specify which frame will be used as reference.",
      "type": "string"
    }
  },
  "description": "Motion correction of PET volumes (Petsurfer pipeline).",
  "environment": {
    "PATH": "/opt/miniconda-latest/bin:/opt/freesurfer/bin:/opt/freesurfer/fsfast/bin:/opt/freesurfer/tktools:/opt/freesurfer/mni/bin:/usr/lib/fsl/5.0:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",
    "LANG": "C.UTF-8",
    "GPG_KEY": "A035C8C19219BA821ECEA86B64E628F8D684696D",
    "PYTHON_VERSION": "3.10.12",
    "PYTHON_PIP_VERSION": "23.0.1",
    "PYTHON_SETUPTOOLS_VERSION": "65.5.1",
    "PYTHON_GET_PIP_URL": "https://github.com/pypa/get-pip/raw/0d8570dc44796f4369b652222cf176b3db6ac70e/public/get-pip.py",
    "PYTHON_GET_PIP_SHA256": "96461deced5c2a487ddc65207ec5a9cffeca0d34e7af7ea1afc470ff0d746207",
    "OS": "Linux",
    "FS_OVERRIDE": "0",
    "SUBJECTS_DIR": "/opt/freesurfer/subjects",
    "FSF_OUTPUT_FORMAT": "nii.gz",
    "MNI_DIR": "/opt/freesurfer/mni",
    "LOCAL_DIR": "/opt/freesurfer/local",
    "FREESURFER_HOME": "/opt/freesurfer",
    "FSFAST_HOME": "/opt/freesurfer/fsfast",
    "MINC_BIN_DIR": "/opt/freesurfer/mni/bin",
    "MINC_LIB_DIR": "/opt/freesurfer/mni/lib",
    "MNI_DATAPATH": "/opt/freesurfer/mni/data",
    "FMRI_ANALYSIS_DIR": "/opt/freesurfer/fsfast",
    "PERL5LIB": "/opt/freesurfer/mni/share/perl5",
    "MNI_PERL5LIB": "/opt/freesurfer/mni/share/perl5/",
    "FLYWHEEL": "/flywheel/v0",
    "FS_LICENSE": "/opt/freesurfer/license.txt",
    "DEBIAN_FRONTEND": "noninteractive",
    "DEBCONF_NOWARNINGS": "yes"
  },
  "custom": {
    "gear-builder": {
      "image": "flywheel/petsurfer-mc:0.1.2_7.3.2",
      "category": "analysis"
    },
    "flywheel": {
      "show-job": true,
      "suite": "Petsurfer"
    }
  },
  "inputs": {
    "api-key": {
      "base": "api-key",
      "read-only": true
    },
    "freesurfer_license_file": {
      "description": "FreeSurfer license file, provided during registration with FreeSurfer. This file will be copied to the $FSHOME directory and used during execution of the Gear.",
      "base": "file",
      "optional": true
    },
    "input-file": {
      "base": "file",
      "optional": false,
      "type": {
        "enum": [
          "nifti"
        ]
      },
      "description": "Input NIfTI file for the Motion correction"
    }
  },
  "label": "Petsurfer motion correction",
  "name": "petsurfer-mc",
  "source": "https://gitlab.com/flywheel-io/flywheel-apps/petsurfer-mc",
  "url": "https://gitlab.com/flywheel-io/flywheel-apps/petsurfer-mc",
  "maintainer": "Flywheel <support@flywheel.io>",
  "license": "Other",
  "version": "0.1.2_7.3.2"
}

